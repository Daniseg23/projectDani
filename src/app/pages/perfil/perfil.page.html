<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-icon style="font-size: 32px; color: black; position: relative; right: -5px;" name="arrow-back-outline" (click)="goBack()"></ion-icon>
    </ion-buttons>
    <ion-title>Mi perfil</ion-title>
  </ion-toolbar>
</ion-header>

  <ion-content [fullscreen]="true">
        <ion-menu contentId="main-content">
          <ion-header>
            <ion-toolbar>
              <ion-title>Menu Content</ion-title>
            </ion-toolbar>
          </ion-header>
          <ion-content class="ion-padding">
            <!--inicio de opciones de menu-->
            <ion-list>
              <ion-item button (click)="clickViaje()" >
                <ion-label>Viaje</ion-label>
              </ion-item>
              <ion-item button (click)="clickVehiculo()">
                <ion-label>Vehiculo</ion-label>
              </ion-item>
              <ion-item button (click)="clickAyuda()">
                <ion-label>Ayuda</ion-label>
              </ion-item>
              <ion-item button (click)="clickInicio()">
                <ion-label>INICIO</ion-label>
              </ion-item>
            </ion-list>
            <!--fin de opciones de menu-->
          </ion-content>
        </ion-menu>
        
        <div class="ion-page" id="main-content">
          <ion-header>
            <ion-toolbar>
              <ion-buttons slot="start">
                <ion-menu-button></ion-menu-button>
              </ion-buttons>
              <ion-title>Menu</ion-title>
            </ion-toolbar>
          </ion-header>
          
          <ion-content>
              <!--Inicio de las card con fondo-->
              <div style="background: linear-gradient(rgba(0, 0, 0, 0.7), rgb(255, 255, 255)); padding: 20px 0px;">
                <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px"></div>
                <!--Inicio de ion-card-->
                <ion-card>
                  <img class="circular-image" alt="Silhouette of mountains" *ngIf="usuario.length > 0" [src]="usuario[0].imagen_usuario" />
                </ion-card>
                <!--Fin de ion-card-->
            
                <!--Inicio de ion-card con opciones-->
                <ion-card>
                  <ion-card-header>
                    <ion-card-subtitle>Información</ion-card-subtitle>
                  </ion-card-header>
                  <ion-card-content *ngIf="loaded">
                    <ion-list>
                      <ion-item>
                        <ion-icon name="person-circle-outline"></ion-icon>
                        <ion-label class="spaced-label">{{nombre}}</ion-label>
                      </ion-item>
            
                      <ion-item>
                        <ion-icon name="mail-outline"></ion-icon>
                        <ion-label class="spaced-label">{{correo}}</ion-label>
                      </ion-item>
            
                      <ion-item>
                        <ion-icon name="call-outline"></ion-icon>
                        <ion-label class="spaced-label">{{telefono}}</ion-label>
                      </ion-item>
            
                      <ion-item>
                        <ion-icon name="podium-outline"></ion-icon>
                        <ion-label class="spaced-label">Mi clasificación</ion-label>
                      </ion-item>
            
                      <ion-item>
                        <ion-icon name="folder-outline"></ion-icon>
                        <ion-label class="spaced-label">{{nombre_proyecto}}</ion-label>
                      </ion-item>
                    </ion-list>
                  </ion-card-content>
                </ion-card>
                <!--Fin de ion-card con opciones-->
              </div>
              
              <!-- Ubicación del usuario -->
              <div class="location-container">
                <h3>Ubicación actual</h3>
                
                <!-- Si hay un error con la ubicación, muestra un mensaje -->
                <div *ngIf="locationError" class="error-message">
                  <p>Activa los permisos de ubicación para ver tu posición actual.</p>
                </div>
              
                <!-- Mostrar la ubicación si está disponible -->
                <div *ngIf="userLocation && !locationError" class="location-info">
                  <p>Latitud: <span class="location-value">{{ userLocation.lat }}</span></p>
                  <p>Longitud: <span class="location-value">{{ userLocation.lng }}</span></p>
                </div>
              
                <!-- Mostrar un mensaje de carga si la ubicación no está disponible y no hay error -->
                <div *ngIf="!userLocation && !locationError" class="loading-info">
                  <p>Obteniendo ubicación...</p>
                </div>
              </div>
              
          </ion-content>
        </div>
